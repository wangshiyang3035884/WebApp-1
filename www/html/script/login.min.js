/** 
 * -------------------------------------------------------------
 * Copyright (c) 2014 baofeng, All rights reserved. 
 * http://www.baofeng.com/ 
 *  
 * @version: 0.0.1 
 * @author: Nxiao <363305175@qq.com> 
 * @description: nodejs全栈案例 
 * @date: 2015-01-22  18:31:02
 * ------------------------------------------------------------- 
 */ 

var baofeng={};baofeng.utils={xmlHttp:null,prefixes:["","-ms-","-moz-","-webkit-","-o-"],pfx:["","MS","moz","webkit","o"],pfxfil:["transform"],pfxname:null,cssMap:{},createXMLHttpRequest:function(){window.ActiveXObject?this.xmlHttp=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(this.xmlHttp=new XMLHttpRequest)},createURL:function(url,callback){var type=-1!=url.indexOf(".xml"),data;this.createXMLHttpRequest(),this.xmlHttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&callback&&(data=type?this.responseXML:eval("("+this.responseText+")"),callback(data))},this.xmlHttp.open("GET",url,"true"),this.xmlHttp.send(null)},provide:function(a){for(var b=a.split("."),c=window,d=0,e=b.length;e>d;d++)c=c[b[d]]?c[b[d]]:c[b[d]]=new Object},require:function(){},loadScript:function(a,b){var c,d=document.getElementsByTagName("head")[0];c=document.createElement("script"),c.type="text/javascript",c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(c.onload=c.onreadystatechange=null,b())},c.src=a,d.appendChild(c)},debug:function(a,b,c){var d,e,f,g,h,i,j;e=function(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c},d=function(a){var b=i[a],c=b[0],e=b[1];if(0!=e.length)for(var f=0,g=e.length;g>f;f++)d(e[f]);j.push(c)},h=function(){baofeng.utils.loadScript(j[f],function(){f++,g>f?h():c&&c()})},baofeng.utils.createURL(a,function(a){i=a,j=[],b in i||(j=null),j&&(d(b),j=e(j),g=j.length,f=0),j&&h()})},bind:function(a,b){return a.bind?a.bind(b):function(){a.apply(b,arguments)}},charlen:function(a){return a?a.replace(/[^\x00-\xff]/g,"xx").length:0},inherits:function(a,b){a.prototype=new b,a.prototype.constructor=a},analyzetpl:function(a,b){return b?a.replace(/\{(.*?)\}/gi,function(){return b[arguments[1]]||""}):a},sizechange:function(a){return a/=1048576,parseInt(a)>0?a.toFixed(1)+"MB":a.toFixed(2)+"MB"},locationjson:function(a,b){var c,d,e;if(a){e={},c=a.split("&");for(var f=0,g=c.length;g>f;f++)d=c[f].split("="),e[d[0]]=d[1]}return e?b&&b in e?e[b]:e:null},getType:function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},ajax:function(a,b,c,d,e,f){var g=new XMLHttpRequest;if(g.upload){if(g.onreadystatechange=function(){4==g.readyState&&308==g.status&&c(g.responseText)},g.upload.onerror=g.upload.ontimeout=d,g.timeout=f||3e3,g.withCredentials=!1,g.open("POST",a,!0),e)for(var h in e)g.setRequestHeader(h,e[h]);g.send(b||null)}},getStyle:function(a,b){return this.getStyle=a.currentStyle?function(a,b){return a.currentStyle[this.cssName(b)]}:function(a,b){return document.defaultView.getComputedStyle(a,null)[this.cssName(b)]},this.getStyle(a,b)},upperCase:function(a,b){return b.toUpperCase()},cssName:function(a){for(var b,c,d=document.documentElement.style,e=0,f=this.prefixes.length;f>e;e++)if(this.pfxname=c=this.prefixes[e],b=(c+a).replace(/-([a-z])/g,this.upperCase),b in d)return this.cssName=function(a){return b=this.cssMap[a],b||(this.cssMap[a]=b=a in d?a:(c+a).replace(/-([a-z])/g,this.upperCase)),b},b;return null},setStyle:function(a,b){var c,d;for(var e in b){if(c=b[e],this.pfxname)for(var f=0,g=this.pfxfil.length;g>f;f++)if(d=this.pfxfil[f],-1!=c.indexOf(d)){c=c.replace(d,this.pfxname+d);break}a.style[this.cssName(e)]=c}},prefixedEvent:function(a,b,c){for(var d,e=0;e<this.pfx.length;e++)d=b,this.pfx[e]||(d=b.toLowerCase()),a.addEventListener(this.pfx[e]+d,c,!1)},getObjectById:function(a){var b,c,d=document.getElementById(a)||null;return d&&"OBJECT"==d.nodeName.toUpperCase()&&("undefined"!=typeof d.SetVariable?b=d:(c=d.getElementsByTagName("object")[0],c&&(b=c))),b}},$(document).ready(function(){baofeng.utils.provide("baofeng.login"),$(document).bind("touchmove",function(a){a.preventDefault()}),baofeng.login=function(){function a(){var a="0px",e="100%";b&&(a="-100%",e="0px"),baofeng.utils.setStyle(c[0],{transform:"translateX("+a+")"}),baofeng.utils.setStyle(d[0],{transform:"translateX("+e+")"}),b=!b}var b=!0,c=$(".login"),d=$(".landed");c.bind("tap",a),d.bind("tap",a),event.preventDefault()},baofeng.login()});